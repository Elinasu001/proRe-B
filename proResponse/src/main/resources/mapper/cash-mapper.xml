<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kh.even.back.cash.model.mapper.CashMapper">
	
	<select id="getMyCash" parameterType="long" resultType="long">
		SELECT
	         NVL((
	              SELECT BALANCE
	                FROM (
	                      SELECT BALANCE
	                        FROM TB_MEMBER_CASH
	                       WHERE USER_NO = #{userNo}
	                       ORDER BY CREATE_DATE DESC, HISTORY_NO DESC
	                     )
	               WHERE ROWNUM = 1
	         ), 0) AS BALANCE
	    FROM DUAL		 
	</select>
	
</mapper>